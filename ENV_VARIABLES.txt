# Final Environment Variables List - Party In Pink 4.0

## All Required & Optional Environment Variables

Copy-paste this list into Netlify Site Settings ‚Üí Environment Variables

---

## üî¥ CRITICAL - Must Set (Payment & Tickets)

```
CASHFREE_ENV=production
CASHFREE_APP_ID=[YOUR PRODUCTION APP ID]
CASHFREE_SECRET_KEY=[YOUR PRODUCTION SECRET KEY]
CASHFREE_API_VERSION=2025-01-01
CF_WEBHOOK_SECRET=[YOUR PRODUCTION WEBHOOK SECRET]

KONFHUB_API_KEY=5dfc6c26-b1f4-4f36-b4a7-54966c7aa0e1
KONFHUB_EVENT_ID_INTERNAL=72f7b0ae-427d-4c82-a2dc-eddb276b77b1
KONFHUB_INTERNAL_BULK_TICKET_ID=63927
KONFHUB_INTERNAL_FREE_TICKET_ID=63926
KONFHUB_ACCESS_CODE_BULK=PIP-BULK-INT
KONFHUB_ACCESS_CODE_FREE=PIP-DONOR-INT

GITHUB_TOKEN=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
GITHUB_OWNER=rotaractjpnagar3191
GITHUB_REPO=pip-tickets-data
GITHUB_BRANCH=main

SITE_URL=https://pip.rotaractjpnagar.org
```

---

## üü° IMPORTANT - Email (Recommended)

```
SMTP_HOST=smtp.gmail.com
SMTP_PORT=465
GMAIL_USER=rotaractjpnagar@gmail.com
GMAIL_APP_PASSWORD=rcuo fvem base owrm
FROM_EMAIL=Rotaract JP Nagar <tickets@rotaractjpnagar.org>
REPLY_TO=rotaractjpnagar@gmail.com
```

---

## üü¢ OPTIONAL - Pricing & Logic (Already Set)

```
BULK_PRICE=199
COMM_MIN=12
UNIV_MIN=20
SLABS=1000:1,5000:2,10000:5,15000:7,20000:7,25000:10
SLAB_BELOW_MIN=0
SLAB_ABOVE_MAX=TOP
STORE_PATH=storage
```

---

## üîµ OPTIONAL - KonfHub Public (Already Set)

```
KONFHUB_EVENT_ID_PUBLIC=47a12d42-05c4-496b-a018-a7fb052766e2
KONFHUB_CF_ROTARACTOR=104355
KONFHUB_CF_CLUB=104356
```

---

## üü£ OPTIONAL - Admin & Dev (For Testing)

```
ADMIN_KEY=pass123
ALLOW_TEST_PING=1
OPS_ADMIN_KEY=pass123
```

---

## üìã Copy-Paste Ready Format

```
CASHFREE_ENV=production
CASHFREE_APP_ID=[PROD_APP_ID]
CASHFREE_SECRET_KEY=[PROD_SECRET]
CASHFREE_API_VERSION=2025-01-01
CF_WEBHOOK_SECRET=[PROD_WEBHOOK_SECRET]
KONFHUB_API_KEY=5dfc6c26-b1f4-4f36-b4a7-54966c7aa0e1
KONFHUB_EVENT_ID_INTERNAL=72f7b0ae-427d-4c82-a2dc-eddb276b77b1
KONFHUB_INTERNAL_BULK_TICKET_ID=63927
KONFHUB_INTERNAL_FREE_TICKET_ID=63926
KONFHUB_ACCESS_CODE_BULK=PIP-BULK-INT
KONFHUB_ACCESS_CODE_FREE=PIP-DONOR-INT
GITHUB_TOKEN=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
GITHUB_OWNER=rotaractjpnagar3191
GITHUB_REPO=pip-tickets-data
GITHUB_BRANCH=main
SITE_URL=https://pip.rotaractjpnagar.org
BULK_PRICE=199
COMM_MIN=12
UNIV_MIN=20
SLABS=1000:1,5000:2,10000:5,15000:7,20000:7,25000:10
SLAB_BELOW_MIN=0
SLAB_ABOVE_MAX=TOP
STORE_PATH=storage
SMTP_HOST=smtp.gmail.com
SMTP_PORT=465
GMAIL_USER=rotaractjpnagar@gmail.com
GMAIL_APP_PASSWORD=rcuo fvem base owrm
FROM_EMAIL=Rotaract JP Nagar <tickets@rotaractjpnagar.org>
REPLY_TO=rotaractjpnagar@gmail.com
KONFHUB_EVENT_ID_PUBLIC=47a12d42-05c4-496b-a018-a7fb052766e2
KONFHUB_CF_ROTARACTOR=104355
KONFHUB_CF_CLUB=104356
ADMIN_KEY=pass123
ALLOW_TEST_PING=0
```

---

## üöÄ Where Used

| Variable | Used In | Purpose |
|----------|---------|---------|
| CASHFREE_ENV | create-order.js | Determines if sandbox or production API |
| CASHFREE_APP_ID | create-order.js | Authentication with Cashfree |
| CASHFREE_SECRET_KEY | create-order.js, cf-webhook.js | Payment signing & verification |
| CASHFREE_API_VERSION | create-order.js | API version (2025-01-01) |
| CF_WEBHOOK_SECRET | cf-webhook.js | Webhook signature verification |
| KONFHUB_API_KEY | _konfhub.js | KonfHub API authentication |
| KONFHUB_EVENT_ID_INTERNAL | _konfhub.js | Internal event ID for ticket issuance |
| KONFHUB_INTERNAL_BULK_TICKET_ID | _konfhub.js | Bulk ticket type ID |
| KONFHUB_INTERNAL_FREE_TICKET_ID | _konfhub.js | Free/donation ticket type ID |
| KONFHUB_ACCESS_CODE_BULK | _konfhub.js | Access code for bulk tickets (if required) |
| KONFHUB_ACCESS_CODE_FREE | _konfhub.js | Access code for free tickets (if required) |
| GITHUB_TOKEN | _github.js | GitHub API authentication |
| GITHUB_OWNER | _github.js | GitHub repository owner |
| GITHUB_REPO | _github.js | GitHub repository name |
| GITHUB_BRANCH | _github.js | Branch to store orders in |
| SITE_URL | create-payment-link.js, app.js | Return URL after payment, OG tags |
| BULK_PRICE | _config.js | Price per person for bulk registration |
| COMM_MIN | _config.js | Minimum passes for community bulk |
| UNIV_MIN | _config.js | Minimum passes for university bulk |
| SLABS | _config.js | Donation tiers mapping (amount:passes) |
| STORE_PATH | _github.js, kh-webhook.js | Path in GitHub for order storage |
| SMTP_HOST | _mail.js | Email server hostname |
| SMTP_PORT | _mail.js | Email server port |
| GMAIL_USER | _mail.js | Email sender address |
| GMAIL_APP_PASSWORD | _mail.js | Email authentication password |
| FROM_EMAIL | _mail.js | Sender name/email display |
| REPLY_TO | _mail.js | Reply-to address for emails |
| ADMIN_KEY | Multiple functions | Admin authentication key |

---

## ‚ö†Ô∏è Important Notes

1. **Replace bracketed values** with your actual production keys:
   - `[PROD_APP_ID]` ‚Üí Get from Cashfree dashboard
   - `[PROD_SECRET]` ‚Üí Get from Cashfree dashboard
   - `[PROD_WEBHOOK_SECRET]` ‚Üí Get from Cashfree dashboard

2. **DO NOT COMMIT** the .env file with real values to GitHub

3. **Test in PreProd first** before going to production

4. **Webhook URLs must be updated** in Cashfree & KonfHub:
   - Production: `https://pip.rotaractjpnagar.org/.netlify/functions/cf-webhook`
   - KonfHub: `https://pip.rotaractjpnagar.org/.netlify/functions/kh-webhook?s=T4mY1qT6s8a9Bv2yF0rJwZpKXx7Hc3!L`

5. **Set ALLOW_TEST_PING=0** in production (was 1 for testing)

---

## ‚úÖ Verification Checklist

After adding all variables to Netlify:

- [ ] Deploy site
- [ ] Test donation flow ‚Üí Payment succeeds ‚Üí Tickets issued
- [ ] Test bulk registration ‚Üí Payment succeeds ‚Üí Tickets issued
- [ ] Check Netlify function logs for errors
- [ ] Verify orders stored in GitHub
- [ ] Confirm emails received
- [ ] Test KonfHub widget loads

Ready to import!
